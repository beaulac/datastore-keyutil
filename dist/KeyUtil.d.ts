/// <reference types="google-cloud__datastore" />
import * as Datastore from '@google-cloud/datastore';
import * as Entity from '@google-cloud/datastore/entity';
import './AugmentedDatastore';
import { DatastoreKeylike } from './isKeylike';
import { DatastoreKeyExtractable } from './key.types';
import { KeyUtilOptions } from './KeyUtilOptions';
export declare class KeyUtil {
    private datastore;
    KEY_SYMBOL: symbol;
    private keyBuilder;
    private keyExtractor;
    private errorFn;
    constructor(datastore: Datastore, options?: Partial<KeyUtilOptions>);
    setKey<T>(entity: T, key: Entity.DatastoreKey): T;
    buildMixedKey: (keyPath: Entity.PathElement[]) => Entity.DatastoreKey;
    buildKey: (keyPath: Entity.PathElement[]) => Entity.DatastoreKey;
    buildNamedKey: (keyPath: Entity.PathElement[]) => Entity.DatastoreKey;
    coerceKeylikeToKey: (keylike: DatastoreKeylike) => Entity.DatastoreKey;
    allocateKeys(keyPath: Entity.DatastoreKeyPath | DatastoreKeylike, count?: number): Promise<Entity.DatastoreKey | Entity.DatastoreKey[]>;
    extractKey: (entity: any) => Entity.DatastoreKey;
    mapToKeys: (es: any[]) => Entity.DatastoreKey[];
    extractParentKey: (entity: any) => Entity.DatastoreKey;
    mapToParentKeys: (es: any[]) => Entity.DatastoreKey[];
    idOf: (entity: any) => string;
    mapToIDs: (es: any[]) => string[];
    parentIdOf: (entity: any) => string;
    mapToParentIDs: (es: any[]) => string[];
    nameOf: (entity: any) => string;
    mapToNames: (es: any[]) => string[];
    parentNameOf: (entity: any) => string;
    mapToParentNames: (es: any[]) => string[];
    identifierOf: (entity: any) => string | undefined;
    mapToIdentifiers: (es: any[]) => (string | undefined)[];
    parentIdentifierOf: (entity: any) => string | undefined;
    mapToParentIdentifiers: (es: any[]) => (string | undefined)[];
    uidFor: (entity: any) => string;
    mapToUIDs: (es: any[]) => string[];
    parentUidFor: (entity: any) => string;
    mapToParentUIDs: (es: any[]) => string[];
    uidToKey: (uid: string) => Entity.DatastoreKey;
    base64UidFor: (entity: any) => string;
    mapToBase64UIDs: (es: any[]) => string[];
    base64ParentUIDFor: (entity: any) => string;
    mapToBase64ParentUIDs: (es: any[]) => string[];
    base64UidToKey: (base64UID: string) => Entity.DatastoreKey;
    haveSameKey: (entity: any, other: any) => boolean;
    hasId: (entity: any, id: string) => boolean;
    hasName: (entity: any, name: string) => boolean;
    indexById<E extends DatastoreKeyExtractable>(entity: E | E[]): [string, E] | Array<[string, E]>;
    private _doIndexById<E>(entity);
}
